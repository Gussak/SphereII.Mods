

<html>
	
<head>
	<title>BlockTakeAndReplace</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="generator" content="HelpNDoc Personal Edition 9.3.0.281">
	<meta name="description" content="" /> 
	<meta name="keywords" content="">
	
	
	
	<link type="text/css" rel="stylesheet" media="all" href="css/reset.css" />
	<link type="text/css" rel="stylesheet" media="all" href="css/base.css" />
	<link type="text/css" rel="stylesheet" media="all" href="css/hnd.css" />
	<!--[if lte IE 8]>
		<link type="text/css" rel="stylesheet" media="all" href="css/ielte8.css" />
	<![endif]-->
	<style type="text/css">
		#topic_header
		{
			background-color: #EFEFEF;
		}
	</style>
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/hnd.js"></script>
	<script type="text/javascript">
		$(document).ready(function()
		{
			if (top.frames.length == 0)
			{
				var sTopicUrl = top.location.href.substring(top.location.href.lastIndexOf("/") + 1, top.location.href.length);
				top.location.href = "index.html?" + sTopicUrl;
			}
			else
			{
				var bTocSelected = false;
				(function waitForTOC()
				{
					if (top && top.FrameTOC && top.FrameTOC.SelectTocItem)
					{
						top.FrameTOC.SelectTocItem("BlockTakeAndReplace");
						bTocSelected = true;
					}
					if (!bTocSelected) setTimeout(function() { waitForTOC(); }, 300);
				})();
			}
		});
	</script>
	
	
</head>

<body>



	
		<div id="topic_header">
			<div id="topic_header_content">
				<h1 id="topic_header_text">BlockTakeAndReplace</h1>
				
				
				<div id="topic_breadcrumb">
					<a href="FeaturesandFunctionalities.html">Features and Functionalities</a> &rsaquo;&rsaquo; <a href="Blocks.html">Blocks</a> &rsaquo;&rsaquo; 
				</div>
				
			</div>
			
			<div id="topic_header_nav">
				
				
				<a href="Blocks.html"><img src="img/arrow_up.png" alt="Parent"/></a>
				
				
				
				<a href="DecoAoE.html"><img src="img/arrow_left.png" alt="Previous"/></a>
				
				
				
				<a href="BlockTriggeredSDX.html"><img src="img/arrow_right.png" alt="Next"/></a>
				
				
			</div>
			
			<div class="clear"></div>
		</div>
	
	
	<div id="topic_content">
		
<p class="rvps3"><span class="rvts8">TakeAndReplace allows you to pick up a block and have it automatically changed into another block, such as pulling boards off a window, leaving just the window.</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8">It allows you to filter not only what kind of block or shape you can pick up, but also which tool you need to use to do the picking up.</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8">Main blocks.xml entry:</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts14">&lt;property class="AdvancedPickUpAndPlace"&gt;</span></p>
<p class="rvps3"><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">&lt;property name="Logging" value="false"/&gt;</span></p>
<p class="rvps3"><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">&lt;property name="Legacy" value="true" /&gt;</span></p>
<p class="rvps3"><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">&lt;property name="TakeWithTool" value="meleeToolRepairT1ClawHammer" /&gt;</span></p>
<p class="rvps3"><span class="rvts14">&lt;/property&gt;</span></p>
<p class="rvps3"><span class="rvts14"><br/></span></p>
<p class="rvps3"><span class="rvts8">Legacy value allows you to pick up any block when you are holding the specified TakeWithTool. TakeWithTool is a comma delimited list.&nbsp;</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8">Notes:</span></p>
<p class="rvps3"><span class="rvts8"></span><br/><span class="rvts8">&lt;property name="TakeWithTool" value="meeleeToolRepairT1ClawHammer" /&gt;</span></p>
<p class="rvps5"><span class="rvts8">- If this property is specified, the Take Prompt will only show when you are holding that item.</span></p>
<p class="rvps3"><span class="rvts8"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts8">- This happens after we've checked ValidMaterial, and passed the material check for pick up.</span></p>
<p class="rvps3"><span class="rvts8"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts8">- If this property is not specified, then the Take Prompt will show up for those blocks.</span></p>
<p class="rvps3"><span class="rvts8"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts8"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts8">- Note: HoldingItem property is still valid. The item(s) specified in this property will half the time it takes for the block.&nbsp;</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps5"><span class="rvts8">- If the item that you are holding has the tag "silenttake", then no sound will be played when a block is taken.</span></p>
<p class="rvps3"><span class="rvts8"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts8">- This happens regardless if the tool is specified in TakeWithTool or HoldingItem.</span></p>
<p class="rvps5"><span class="rvts8">- If you can take a block, and have that tag on your hand item, no sound will be played.</span></p>
<p class="rvps3"><span class="rvts8"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts8">- Updated the "Take Sound" to be more appropriate for the material you are taking.</span></p>
<p class="rvps3"><span class="rvts8"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts8"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts8">- Wooden sound for wood materials. Steel sound for steel materials.</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts8">- Added a property option CheckToolForMaterial, with the default being false.</span></p>
<p class="rvps3"><span class="rvts8"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts8"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts8">&lt;property name="CheckToolForMaterial" value="true"/</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts8">- If this property is defined and set to true, then the block will check for a tag on the holding item</span></p>
<p class="rvps3"><span class="rvts8"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts8">- The tag on the holding item must be the material ID that is allowed to be picked up.</span></p>
<p class="rvps3"><span class="rvts8"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps5"><span class="rvts14">&lt;item name="meleeToolRepairT0StoneAxe"&gt;</span></p>
<p class="rvps3"><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">&lt;!-- Allow the stone axe to pick up any block that is Mwood_weak or Mwood_regular.</span></p>
<p class="rvps6"><span class="rvts14">&lt;property name="Tags" value="&lt;ommitted for clarity&gt;,Mwood_weak, Mwood_regular"/&gt;</span></p>
<p class="rvps3"><span class="rvts14"><br/></span></p>
<p class="rvps3"><span class="rvts14">&lt;!-- full example : --&gt;</span></p>
<p class="rvps3"><span class="rvts14">&lt;append xpath="/shapes/shape[@name='windowBoarded']"&gt;</span></p>
<p class="rvps3"><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">&lt;property name="Class" value="TakeAndReplace, SCore"/&gt;</span></p>
<p class="rvps3"><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">&lt;property name="CanPickup" value="true"/&gt;</span></p>
<p class="rvps3"><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">&lt;property name="TakeDelay" value="8"/&gt;</span></p>
<p class="rvps3"><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">&lt;property name="PickUpBlock" value="woodShapes:VariantHelper"/&gt;</span></p>
<p class="rvps3"><span class="rvts14"><br/></span></p>
<p class="rvps3"><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">&lt;!-- Only allow picking up window board blocks that are weak or regular wood --&gt;</span></p>
<p class="rvps3"><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">&lt;property name="ValidMaterials" value="Mwood_weak,Mwood_regular"/&gt;</span></p>
<p class="rvps3"><span class="rvts14"><br/></span></p>
<p class="rvps3"><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">&lt;!-- Only allow picking up blocks with this tool being held. --&gt;</span></p>
<p class="rvps3"><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">&lt;property name="TakeWithTool" value="meleeToolRepairT0StoneAxe,meleeToolRepairTazaStoneAxe"/&gt;</span></p>
<p class="rvps3"><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps3"><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">&lt;!-- Check the currently held tool's tag for the material of the block / shape being picked up --&gt;</span></p>
<p class="rvps3"><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">&lt;!-- note: That means that the stone axes must have a Mwood_weak tags in order to pick up those blocks --&gt;</span></p>
<p class="rvps3"><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">&lt;property name="CheckToolForMaterial" value="true" /&gt;</span></p>
<p class="rvps3"><span class="rvts14">&lt;/append&gt;</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8">- Created some helper shortcuts in order to reduce hard coding many references in the blocks.xml/shapes.xml</span></p>
<p class="rvps3"><span class="rvts8">- If the TakeWithTool property exists on the block / shape, then a lookup against the AdvancedPickUpAndPlace class is triggered.</span></p>
<p class="rvps3"><span class="rvts8"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts8">-&gt; ValidMaterials operates the same style of lookup.</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8">- This lookup uses the value of the TakeWithTool from the block/shape as a key to an entry in AdvancedPickUpAndPlace.</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8">For Example:</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">&lt;!-- Config Block --&gt;</span></p>
<p class="rvps3"><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">&lt;property class="AdvancedPickUpAndPlace"&gt;</span></p>
<p class="rvps5"><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">&lt;property name="Logging" value="false" /&gt;</span></p>
<p class="rvps3"><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">&lt;property name="TakeWithTool" value="meleeToolRepairT1ClawHammer" /&gt;</span></p>
<p class="rvps3"><span class="rvts14">&nbsp; &nbsp; &nbsp;</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">&lt;property name="WoodenFenceTools"&nbsp;</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><br/><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">value="meleeToolRepairT0StoneAxe,meleeToolRepairT0TazasStoneAxe,meleeToolRepairT1ClawHammer,meleeToolAxeT1IronFireaxe,meleeToolAxeT2SteelAxe,meleeToolAxeT3Chainsaw"&gt;</span></p>
<p class="rvps3"><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">&lt;property name="woodMaterial" value="Mwood_weak,Mwood_regular"/&gt;</span></p>
<p class="rvps3"><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">&lt;/property&gt;</span></p>
<p class="rvps3"><span class="rvts14"><br/></span></p>
<p class="rvps3"><span class="rvts8">And now, instead of defining a full tool list, or a full material list on the individual block, you can do something like this.</span></p>
<p class="rvps3"><span class="rvts14"><br/></span></p>
<p class="rvps3"><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">&lt;property name="TakeWithTool" value="WoodenFenceTools" /&gt;</span></p>
<p class="rvps3"><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">&lt;property name="ValidMaterials" value="woodMaterial"/&gt;</span></p>
<p class="rvps3"><span class="rvts14"><br/></span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8">- You may append to the class with your own unique keys</span></p>
<p class="rvps3"><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">&lt;append xpath="/blocks/block[@name='ConfigFeatureBlock']/property[@class='AdvancedPickUpAndPlace']"&gt;</span></p>
<p class="rvps3"><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">&lt;property name="WoodenFenceTools" value="meleeToolRepairT0StoneAxe,meleeToolRepairT0TazasStoneAxe,meleeToolRepairT1ClawHammer,meleeToolAxeT1IronFireaxe,meleeToolAxeT2SteelAxe,meleeToolAxeT3Chainsaw" /&gt;</span></p>
<p class="rvps3"><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">&lt;/append&gt;</span><span class="rvts8"></span></p>
<p class="rvps2" style="clear: both;"><span class="rvts6">Created with the Personal Edition of HelpNDoc: </span><a class="rvts7" href="https://www.helpndoc.com/feature-tour/advanced-project-analyzer/">Transform Your Documentation Process with HelpNDoc's Project Analyzer</a></p>

	</div>
	
	
		<div id="topic_footer">

			<div id="topic_footer_content">
				Copyright &copy; &lt;Dates&gt; by &lt;Authors&gt;. All Rights Reserved.
			</div>
		</div>
	
	

	
</body>
	
</html>

