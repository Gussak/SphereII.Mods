<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SphereII.Mods: Blooms Animal Husbandry</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SphereII.Mods
   </div>
   <div id="projectbrief">A collection of DMT mods for 7 Days To Die which enables more features and flexibility for modders.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md__c_1__users_jkilpatrick__documents__git_hub__sphere_i_i_8_mods__blooms__animal__husbandry__read_me.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Blooms Animal Husbandry </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The Bloom's Animal Husbandry Mod provides sample xml for a cow, along with support XML items, such as hand item, buff sequences to control its thirst and hunger, as well as reproduction.</p>
<p>Using a combination of A custom AI task ( EAIMaslowLevel1 ) and Buffs, animals can be guided through their entire life cycle.</p>
<p>Animals can be found in the wild or earned through potential quest lines from NPCs, using the <a class="el" href="class_reward_give_n_p_c_s_d_x.html">RewardGiveNPCSDX</a> quest reward system. Animals can spawn in small herds, usually with a male and a few female animals. Male animals have an AoE buff that affects only the female version of the animal, re-inforced by the faction system. This allows the opportunity for the animals to breed.</p>
<p>Unlike full NPCs, you are not expected to hire or gain the loyalty of a farm animal. Basic animal handling is control using the incentive feature of the <a class="el" href="class_e_a_i_approach_and_follow_target_s_d_x.html">EAIApproachAndFollowTargetSDX</a>.</p>
<p>An incentive is something that each individual entity finds appealing. This can be a combination of buffs, cvars, block or item names. For animals, it makes that they would be attracted to certain blocks (hay bales) and food. If a baby is spawned from an entity, then it has a Mother cvar, which has the entity ID of the mother entity. This gets removed as the entity gets older through the buff system, but when it's young, it'll follow its mother around.</p>
<p>A spawned in herd will usually contain a male version of the animal, or however the EntityAliveEventSpawnderSDX is configured for them. The "Leader" is spawned in first, and its EntityID is stored with the Followers, allowing them to follow their leader.</p>
<div class="fragment"><div class="line">&lt;<span class="keywordtype">property</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;AITask-7&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;ApproachAndFollowTargetSDX, Mods&quot;</span> <span class="keyword">param1</span>=<span class="stringliteral">&quot;Mother,Leader,hayBaleBlock,foodCornOnTheCob&quot;</span>/&gt;</div></div><!-- fragment --><p>Breeding is handled throuhgh a buffs. For breeding to be successful, there needs to be a Male and Female version of the same animal, and they need to share the same faction.</p>
<p>When the adults recieve the buffAnimalAdult buff, they'll be affected by one of two effect groups, depending on their gender:</p>
<p>If they are female, they'll have a random chance to get pregnant. One of the conditions, besides random chance, to getting pregnant is having the buffAnimalFertility buff.</p>
<p>If they are male, they'll have the buffAnimalFertility AoE. The buffAnimalFertility only affects Females that are close by ( Default is 4 blocks ).</p>
<div class="fragment"><div class="line">&lt;<span class="keywordtype">buff</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;buffAnimalAdult&quot;</span> <span class="keyword">hidden</span>=<span class="stringliteral">&quot;true&quot;</span>&gt;</div><div class="line">    &lt;<span class="keywordtype">stack_type</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;ignore&quot;</span>/&gt;</div><div class="line">    &lt;<span class="keywordtype">duration</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;1000&quot;</span>/&gt;</div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- Effects that only need to happen on the females --&gt;</span></div><div class="line">    &lt;<span class="keywordtype">effect_group</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Female Effects&quot;</span>&gt;</div><div class="line">        &lt;<span class="keywordtype">requirement</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;IsMale&quot;</span> <span class="keyword">invert</span>=<span class="stringliteral">&quot;true&quot;</span>/&gt;</div><div class="line"></div><div class="line">        <span class="comment">&lt;!-- Conditions for triggering pregnancy--&gt;</span></div><div class="line">        &lt;<span class="keywordtype">triggered_effect</span> <span class="keyword">trigger</span>=<span class="stringliteral">&quot;onSelfBuffUpdate&quot;</span> <span class="keyword">action</span>=<span class="stringliteral">&quot;AddBuff&quot;</span> <span class="keyword">target</span>=<span class="stringliteral">&quot;self&quot;</span> <span class="keyword">buff</span>=<span class="stringliteral">&quot;buffAnimalPregnant&quot;</span>&gt;</div><div class="line">            &lt;<span class="keywordtype">requirement</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;RandomRoll&quot;</span> <span class="keyword">seed_type</span>=<span class="stringliteral">&quot;Random&quot;</span> <span class="keyword">target</span>=<span class="stringliteral">&quot;self&quot;</span> <span class="keyword">min_max</span>=<span class="stringliteral">&quot;0,100&quot;</span> <span class="keyword">operation</span>=<span class="stringliteral">&quot;LTE&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;1&quot;</span>/&gt;</div><div class="line">            &lt;<span class="keywordtype">requirement</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;NotHasBuff&quot;</span> <span class="keyword">buff</span>=<span class="stringliteral">&quot;buffAnimalPregnant&quot;</span>/&gt;</div><div class="line">            &lt;<span class="keywordtype">requirement</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;NotHasBuff&quot;</span> <span class="keyword">buff</span>=<span class="stringliteral">&quot;buffAnimalNewMother&quot;</span>/&gt;</div><div class="line">            &lt;<span class="keywordtype">requirement</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;NotHasBuff&quot;</span> <span class="keyword">buff</span>=<span class="stringliteral">&quot;buffBloodMoonEffect&quot;</span> /&gt;</div><div class="line">            &lt;<span class="keywordtype">requirement</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;HasBuff&quot;</span> <span class="keyword">buff</span>=<span class="stringliteral">&quot;buffAnimalFertility&quot;</span>/&gt;</div><div class="line">        &lt;/<span class="keywordtype">triggered_effect</span>&gt;</div><div class="line">    &lt;/<span class="keywordtype">effect_group</span>&gt;</div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- if the entity is a male, then give it the fertility buff --&gt;</span></div><div class="line">    &lt;<span class="keywordtype">effect_group</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Male Effects&quot;</span>&gt;</div><div class="line">        &lt;<span class="keywordtype">requirement</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;IsMale&quot;</span> /&gt;</div><div class="line">        &lt;<span class="keywordtype">triggered_effect</span> <span class="keyword">trigger</span>=<span class="stringliteral">&quot;onSelfBuffUpdate&quot;</span> <span class="keyword">action</span>=<span class="stringliteral">&quot;AddBuff&quot;</span> <span class="keyword">target</span>=<span class="stringliteral">&quot;selfAOE&quot;</span> <span class="keyword">range</span>=<span class="stringliteral">&quot;4&quot;</span> <span class="keyword">buff</span>=<span class="stringliteral">&quot;buffAnimalFertility&quot;</span> <span class="keyword">target_tags</span>=<span class="stringliteral">&quot;farmanimal&quot;</span>/&gt;</div><div class="line">    &lt;/<span class="keywordtype">effect_group</span>&gt;</div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- Effects and triggers for both genders --&gt;</span></div><div class="line">    &lt;<span class="keywordtype">effect_group</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Universal effects&quot;</span>&gt;</div><div class="line">        &lt;<span class="keywordtype">triggered_effect</span> <span class="keyword">trigger</span>=<span class="stringliteral">&quot;onSelfBuffStart&quot;</span> <span class="keyword">action</span>=<span class="stringliteral">&quot;ModifyCVar&quot;</span> <span class="keyword">cvar</span>=<span class="stringliteral">&quot;$sizeScale&quot;</span> <span class="keyword">operation</span>=<span class="stringliteral">&quot;set&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;1&quot;</span>/&gt;</div><div class="line">        &lt;<span class="keywordtype">triggered_effect</span> <span class="keyword">trigger</span>=<span class="stringliteral">&quot;onSelfBuffStart&quot;</span> <span class="keyword">action</span>=<span class="stringliteral">&quot;PumpQuestSDX, Mods&quot;</span> <span class="keyword">target</span>=<span class="stringliteral">&quot;self&quot;</span>  /&gt;</div><div class="line">    &lt;/<span class="keywordtype">effect_group</span>&gt;</div><div class="line"></div><div class="line">    &lt;<span class="keywordtype">effect_group</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Exit Buffs&quot;</span>&gt;</div><div class="line">        &lt;<span class="keywordtype">triggered_effect</span> <span class="keyword">trigger</span>=<span class="stringliteral">&quot;onSelfBuffFinish&quot;</span> <span class="keyword">action</span>=<span class="stringliteral">&quot;AddBuff&quot;</span> <span class="keyword">target</span>=<span class="stringliteral">&quot;self&quot;</span> <span class="keyword">buff</span>=<span class="stringliteral">&quot;buffAnimalSenior&quot;</span> /&gt;</div><div class="line">        &lt;<span class="keywordtype">triggered_effect</span> <span class="keyword">trigger</span>=<span class="stringliteral">&quot;onSelfBuffFinish&quot;</span> <span class="keyword">action</span>=<span class="stringliteral">&quot;RemoveBuff&quot;</span> <span class="keyword">target</span>=<span class="stringliteral">&quot;self&quot;</span> <span class="keyword">buff</span>=<span class="stringliteral">&quot;buffAnimalHarvestable&quot;</span> /&gt;</div><div class="line">        &lt;<span class="keywordtype">triggered_effect</span> <span class="keyword">trigger</span>=<span class="stringliteral">&quot;onSelfBuffFinish&quot;</span> <span class="keyword">action</span>=<span class="stringliteral">&quot;RemoveBuff&quot;</span> <span class="keyword">target</span>=<span class="stringliteral">&quot;self&quot;</span> <span class="keyword">buff</span>=<span class="stringliteral">&quot;buffAnimalFertility&quot;</span> /&gt;</div><div class="line">    &lt;/<span class="keywordtype">effect_group</span>&gt;</div><div class="line">&lt;/<span class="keywordtype">buff</span>&gt;</div></div><!-- fragment --><p>Initial spawning is handled through a special entity called <a class="el" href="class_entity_alive_event_spawner_s_d_x.html">EntityAliveEventSpawnerSDX</a> class. Through this special entity, you may spawn in a particular entity as a leader, then spawn in followers. These followers will set their cvar Leader to their leader, and follow it everywhere. If the leader gets attacked, then the followers will protect it.</p>
<p>The invisibleCowHerdSpawner would be configured through an entity group or through biome spawning like a typical zombie or animal.</p>
<div class="fragment"><div class="line">&lt;<span class="keywordtype">entity_class</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;invisibleCowHerdSpawner&quot;</span>&gt;</div><div class="line">  &lt;<span class="keywordtype">property</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Mesh&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;Gore/gore_block1_bonesPrefab&quot;</span>/&gt;</div><div class="line">  &lt;<span class="keywordtype">property</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;ModelType&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;Custom&quot;</span>/&gt;</div><div class="line">  &lt;<span class="keywordtype">property</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Prefab&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;Backpack&quot;</span>/&gt;</div><div class="line">  &lt;<span class="keywordtype">property</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Class&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;EntityAliveEventSpawnerSDX, Mods&quot;</span>/&gt;</div><div class="line">  &lt;<span class="keywordtype">property</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Parent&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;Animals&quot;</span>/&gt;</div><div class="line">  &lt;<span class="keywordtype">property</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;TimeStayAfterDeath&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;1&quot;</span>/&gt;</div><div class="line">  &lt;<span class="keywordtype">property</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;IsEnemyEntity&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;false&quot;</span>/&gt;</div><div class="line">  &lt;<span class="keywordtype">property</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;LootListOnDeath&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;4&quot;</span>/&gt;</div><div class="line">  &lt;<span class="keywordtype">property</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Faction&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;animals&quot;</span>/&gt;</div><div class="line">  &lt;<span class="keywordtype">property</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;SpawnSettings&quot;</span> &gt;</div><div class="line">    &lt;<span class="keywordtype">property</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Leader&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;animalFarmCowMale&quot;</span> /&gt;</div><div class="line">    &lt;<span class="keywordtype">property</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Followers&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;animalFarmCow,animalFarmCow,animalFarmCow&quot;</span> /&gt;</div><div class="line">  &lt;/<span class="keywordtype">property</span>&gt;</div><div class="line">&lt;/<span class="keywordtype">entity_class</span>&gt;</div></div><!-- fragment --> </div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
