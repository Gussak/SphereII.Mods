

    <div>

        <!-- Top Navbar -->
        <div class="navbar">
            <div class="navbar-inner">
                <div class="left">
                    <a href="#" data-panel="left" class="link open-panel icon-only"><i class="icon icon-bars"></i></a>
                    
                        <a href="Configuring2.html" class="link"><i class="icon icon-back"></i> </a>
                    

                </div>
                <div class="center sliding">
                    Food Spoilage
                </div>
                <div class="right">
                    
                        <a href="Configuration.html" class="link"><i class="icon icon-forward"></i> </a>
                    
                </div>
            </div>
        </div>

        <!-- Content -->
        <div class="pages">
            <div data-page="topics" class="page">
                <!-- Scrollable page content-->
                <div class="page-content hide-bars-on-scroll">
                    <div class="content-block">

						<!-- Topic content -->
                       	
<p class="rvps3"><span class="rvts8">The Food Spoilage system allows you to spoil food over time.</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8">This would allow you to spoil fresh meat into rotting meat, or change teas into cold teas.</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8">It allows storage containers to have a spoilage value that will reduce how fast something spoils, while other storage containers may spoil faster.</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8">The best write up is from khzmusik, and I'll link his repo here: </span><a class="rvts13" href="https://gitlab.com/karlgiesing/7d2d-1.0-mods/-/tree/main/khzmusik_Food_Spoilage?ref_type=heads">https://gitlab.com/karlgiesing/7d2d-1.0-mods/-/tree/main/khzmusik_Food_Spoilage?ref_type=heads</a></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8">Here is a snippet:</span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps3"><span class="rvts8"><br/></span></p>
<p class="rvps8"><span class="rvts8"><br/></span></p>
<p class="rvps8"><span class="rvts8">Food spoilage is calculated when the player opens a container with one or more stacks of consumable items in it. The term SphereII uses for this calculation is </span><span class="rvts20">loss calculation.</span></p>
<p class="rvps8"><span class="rvts8">A loss calculation can only happen after a certain number of game ticks since the last time the loss was calculated. This number of ticks is called </span><span class="rvts20">ticks per loss.</span><span class="rvts8"> The ticks per loss is configurable in XML, and can be set individually per consumable item.</span></p>
<p class="rvps8"><span class="rvts8">The loss caluclation can happen multiple times at once, if the ticks per loss would have been reached multiple times since the container was last opened. For example, if ticks per loss is 100, and it has been 1000 ticks since the user last opened the container, then the loss calculation will happen 10 times when the user opens that container.</span></p>
<p class="rvps8"><span class="rvts8">Each time the loss calculation occurs, it uses a number of different values to determine the amount of food spoilage:</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 40px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps9 noindent"><span class="rvts8">The spoilage amount starts as an amount specified for that consumable item in the item's XML. This amount is called </span><span class="rvts20">spoilage per tick</span><span class="rvts8"> (though it should probably be called "spoilage per loss" or "spoilage per calculation").</span></li>
 <li class="rvps9 noindent"><span class="rvts8">The stack of consumable items is always located in some container, and that container </span><span class="rvts20">adds</span><span class="rvts8"> a number to the spoilage amount. The container can be the player's backpack, the player's toolbar, or a loot container. All three of these locations have their values set </span><span class="rvts20">globally</span><span class="rvts8"> in XML.</span></li>
 <li class="rvps10 noindent"><span class="rvts8">If the item stack is located in a loot container, that container can offset the global amount of spoilage that is added for all loot containers. This is called the </span><span class="rvts20">preserve bonus</span><span class="rvts8"> of the container. The preserve bonus is </span><span class="rvts20">subtracted</span><span class="rvts8"> from the spoilage amount.</span></li>
</ul>
<p class="rvps8"><span class="rvts8">Once that amount is calculated, it is compared against the total amount of spoilage that can occur before </span><span class="rvts20">one</span><span class="rvts8"> consumable item spoils. That total amount of spoilage is called the </span><span class="rvts20">maximum spoilage.</span></p>
<p class="rvps8"><span class="rvts8">This process happens until the calculated spoilage amount is less than the maximum spoilage:</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 40px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps9 noindent"><span class="rvts8">One consumable item is removed from the item stack.</span></li>
 <li class="rvps9 noindent"><span class="rvts8">A </span><span class="rvts20">spoiled item,</span><span class="rvts8"> representing a spoiled version of the original item, is created. The spoiled item can be specified in the XML for each consumable item, or defaults to rotten meat. If this is set to the consumable item itself, then the consumable item spoils into nothing.</span></li>
 <li class="rvps9 noindent"><span class="rvts8">The spoiled item is placed in </span><span class="rvts20">the player's backpack,</span><span class="rvts8"> creating a new stack if necessary. (It goes into the player's backpack regardless of which container held the original item.) If there is no room in the player's backpack, the spoiled item is dropped on the ground.</span></li>
 <li class="rvps10 noindent"><span class="rvts8">The maximum spoilage is subtracted from the calculated spoilage amount.</span><span class="rvts8"></span></li>
</ul>
<p class="rvps2" style="clear: both;"><span class="rvts6">Created with the Personal Edition of HelpNDoc: </span><a class="rvts7" href="https://www.helpndoc.com/feature-tour/stunning-user-interface/">Streamline Your Documentation Process with HelpNDoc's Intuitive Interface</a></p>


                    </div>
                </div>
            </div>
        </div>

    </div>

    